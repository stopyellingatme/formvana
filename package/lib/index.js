!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@formvana"]={})}(this,(function(e){"use strict";function t(){}function i(e){let i;return function(e,...i){if(null==e)return t;const r=e.subscribe(...i);return r.unsubscribe?()=>r.unsubscribe():r}(e,(e=>i=e))(),i}const r=[];function n(e,i=t){let n;const s=[];function o(t){if(o=t,((i=e)!=i?o==o:i!==o||i&&"object"==typeof i||"function"==typeof i)&&(e=t,n)){const t=!r.length;for(let t=0;t<s.length;t+=1){const i=s[t];i[1](),r.push(i,e)}if(t){for(let e=0;e<r.length;e+=2)r[e][0](r[e+1]);r.length=0}}var i,o}return{set:o,update:function(t){o(t(e))},subscribe:function(r,a=t){const l=[r,a];return s.push(l),1===s.length&&(n=i(o)||t),r(e),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(n(),n=null)}}}}class s{constructor(e){if(this.type="text",this.required=!1,this.value=n(void 0),this.disabled=!1,this.hidden=!1,this.errors=n(null),this.attributes={},this.clearValue=()=>{this.value.set(this.initial_value)},this.clearErrors=()=>{this.errors.set(null)},this.clear=()=>{this.clearValue(),this.clearErrors()},this.setInitialValue=e=>{this.initial_value=e,this.value.set(e)},Object.assign(this,e),!this.selector&&!this.template)throw new Error("Please pass in a valid Element.\nEither a string selector or a SvelteComponent.");switch(this.attributes.type||(this.attributes.type=this.type),this.type){case"text":this.setInitialValue("");break;case"decimal":case"number":this.setInitialValue(0);break;case"boolean":this.setInitialValue(!1),this.options=[];break;case"select":this.options=[];break;default:this.setInitialValue(void 0)}!this.attributes["aria-label"]&&this.attributes.title?this.attributes["aria-label"]=this.attributes.title:this.attributes["aria-label"]||(this.attributes["aria-label"]=this.label||this.name)}}class o{constructor(e,t,i){this.property=e,t&&(this.constraints=t),i&&Object.keys(this).forEach((e=>{i[e]&&(this[e]=i[e])}))}}class a{constructor(e,t=!1){this.blur=!0,this.change=!0,this.click=!1,this.dblclick=!1,this.focus=!0,this.input=!0,this.keydown=!1,this.keypress=!1,this.keyup=!1,this.mount=!1,this.mousedown=!1,this.mouseenter=!1,this.mouseleave=!1,this.mousemove=!1,this.mouseout=!1,this.mouseover=!1,this.mouseup=!1,this.submit=!0,t&&Object.keys(this).forEach((e=>{this[e]=!1})),Object.assign(this,e)}}function l(e,t){return t.filter((t=>t.name===e))[0]}function h(e,t=Reflect.getMetadata("editableProperties",e)){return t.map((t=>{const i=new s({...Reflect.getMetadata("fieldConfig",e,t),name:t});return e[t]&&i.setInitialValue(e[t]),i}))}function f(e){let t=[];return e.forEach((e=>{e.required&&t.push(e.name)})),t}function u(e,t){const r=i(e);r[t.name]?(r[t.name]=i(t.value),e.set({...r})):e.set({...r,[t.name]:i(t.value)})}function d(e,t,i){Object.entries(t).forEach((([t,r])=>{r&&e.node.addEventListener(t,(e=>i(e)),!1)}))}function c(e,t,i){Object.entries(t).forEach((([t,r])=>{r&&e.addEventListener(t,(e=>i(e)),!1)}))}function _(e,t,i,r=!0){r&&Array.isArray(i)?e.node.addEventListener(t,(e=>E(this,this.required_fields,this.stateful_items,this.initial_state_str,this.field_names,null,i)),!1):Array.isArray(i)||e.node.addEventListener(t,(e=>i(e)),!1)}function p(e,t,r){let n=0,s=t.length;for(;s>n;++n){const s=t[n].name,o=t[n].value;e?r[s]=i(o):o.set(r[s])}}function y(e,t,i){const r=e.filter((e=>e[i]===t.name));r&&r.length>0?t.errors.set(r[0]):t.errors.set(null)}function v(e,t){e.forEach((e=>{l(e.property,t).errors.set(e)}))}function b(e,t){const r=()=>{"all"!==e.perf_options.link_all_values_on_event&&t?"field"===e.perf_options.link_all_values_on_event&&function(e,t){t[e.name]=i(e.value)}(t,e.model):p(!0,e.fields,e.model)};("always"===e.link_fields_to_model||"valid"===e.link_fields_to_model)&&r()}function g(e,t){t&&t.length>0&&t.forEach((t=>{t.when===e&&t.callback()}))}function m(e){Array.isArray(e)?e.forEach((e=>{e()})):e()}function w(e,t){e&&t()}function E(e,t,i,r,n,s,o){return m([()=>b(e,s),()=>w(Boolean(s)&&e.perf_options.enable_change_detection,(()=>u(e.value_changes,s))),()=>g("before",o)]),e.validation_options.validator(e.model,e.validation_options).then((a=>(m([()=>k(e,a,t,s),()=>w(e.perf_options.enable_hidden_fields_detection,(()=>M(e.hidden_fields,n,e.fields,{type:"hide",value:!0}))),()=>w(e.perf_options.enable_disabled_fields_detection,(()=>M(e.disabled_fields,n,e.fields,{type:"disable",value:!0}))),()=>w(e.perf_options.enable_change_detection,(()=>A(e,i,r))),()=>g("after",o)]),a)))}async function k(e,t,i,r){return t&&t.length>0?(e.errors=t,r?y(t,r,e.validation_options.field_error_link_name):v(t,e.fields),O(t,i)?e.valid.set(!0):e.valid.set(!1)):(b(e,r),e.clearErrors(),e.valid.set(!0)),t}function O(e,t){if(0===e.length)return!0;let i=0,r=t.length;if(0===r)return!0;const n=e.map((e=>e.property));for(;r>i;++i)if(-1!==n.indexOf(t[i]))return!1;return!0}function j(e,t){let i=0,r=t.length,n={};for(;r>i;++i){const r=t[i];n[r]=e[r]}return JSON.stringify(n)}function A(e,t,i){j(e,t)!==i?e.changed.set(!0):e.changed.set(!1)}function x(e,t,r,s){return t.forEach((t=>{"valid"===t||"touched"===t?i(e[t])?r[t]=n(!0):r[t]=n(!1):"value_changes"===t?r[t]=n(i(e.value_changes)):Boolean(e[t])&&(r[t]=JSON.parse(JSON.stringify(e[t]))),s=JSON.stringify(r)})),s}function T(e,t,r){t.forEach((t=>{if("valid"===t||"touched"===t)i(r[t])?e[t].set(!0):e[t].set(!1);else if("errors"===t)e.clearErrors(),e.errors=r.errors.map((e=>{let t=new o;return Object.assign(t,e),t})),e.errors&&e.errors.length>0&&v(e.errors,e.fields);else if("model"===t){const i=JSON.parse(JSON.stringify(r[t]));Object.keys(e[t]).forEach((r=>{e[t][r]=i[r]})),p(!1,e.fields,e.model)}else"value_changes"===t?i(r[t])==={}?e.value_changes.set({}):e.value_changes.set(i(r[t])):Boolean(e[t])&&(e[t]=JSON.parse(JSON.stringify(r[t])))})),e.changed.set(!1)}function S(e,t){let i=[],r=[];return e.forEach((n=>{const s=l(n,t);s.name===n?i.push(s):-1===r.indexOf(s)&&-1===e.indexOf(s.name)&&r.push(s)})),t=[...i,...r]}function F(e,t,i){const r=l(e,t);Object.entries(i).forEach((([e,t])=>{"object"==typeof t?Object.entries(t).forEach((([e,t])=>{r.attributes[e]=t})):r[e]=t}))}function M(e,t,i,r){if(e&&e.length>0&&i&&i.length>0){let n=0,s=e.length;if(0===s)return;for(;s>n;++n){const s=e[n],o=t.indexOf(s);-1!==o&&("disable"===r.type?F(t[o],i,{disabled:r.value,attributes:{disabled:r.value}}):"hide"===r.type&&F(t[o],i,{hidden:r.value}))}}}var P,V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*! *****************************************************************************
    Copyright (C) Microsoft. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */!function(e){!function(t){var i="object"==typeof V?V:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=n(e);function n(e,t){return function(i,r){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:r}),t&&t(i,r)}}void 0===i.Reflect?i.Reflect=e:r=n(i.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,r=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,l={create:s?function(){return re(Object.create(null))}:o?function(){return re({__proto__:null})}:function(){return re({})},has:a?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:a?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},h=Object.getPrototypeOf(Function),f="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,u=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,d=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,c=new(f||"function"!=typeof WeakMap?ie():WeakMap);function _(e,t,i,r){if(R(i)){if(!D(e))throw new TypeError;if(!W(t))throw new TypeError;return O(e,t)}if(!D(e))throw new TypeError;if(!q(t))throw new TypeError;if(!q(r)&&!R(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),j(e,t,i=z(i),r)}function p(e,t){function i(i,r){if(!q(i))throw new TypeError;if(!R(r)&&!Y(r))throw new TypeError;M(e,t,i,r)}return i}function y(e,t,i,r){if(!q(i))throw new TypeError;return R(r)||(r=z(r)),M(e,t,i,r)}function v(e,t,i){if(!q(t))throw new TypeError;return R(i)||(i=z(i)),x(e,t,i)}function b(e,t,i){if(!q(t))throw new TypeError;return R(i)||(i=z(i)),T(e,t,i)}function g(e,t,i){if(!q(t))throw new TypeError;return R(i)||(i=z(i)),S(e,t,i)}function m(e,t,i){if(!q(t))throw new TypeError;return R(i)||(i=z(i)),F(e,t,i)}function w(e,t){if(!q(e))throw new TypeError;return R(t)||(t=z(t)),P(e,t)}function E(e,t){if(!q(e))throw new TypeError;return R(t)||(t=z(t)),V(e,t)}function k(e,t,i){if(!q(t))throw new TypeError;R(i)||(i=z(i));var r=A(t,i,!1);if(R(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var n=c.get(t);return n.delete(i),n.size>0||c.delete(t),!0}function O(e,t){for(var i=e.length-1;i>=0;--i){var r=(0,e[i])(t);if(!R(r)&&!C(r)){if(!W(r))throw new TypeError;t=r}}return t}function j(e,t,i,r){for(var n=e.length-1;n>=0;--n){var s=(0,e[n])(t,i,r);if(!R(s)&&!C(s)){if(!q(s))throw new TypeError;r=s}}return r}function A(e,t,i){var r=c.get(e);if(R(r)){if(!i)return;r=new u,c.set(e,r)}var n=r.get(t);if(R(n)){if(!i)return;n=new u,r.set(t,n)}return n}function x(e,t,i){if(T(e,t,i))return!0;var r=$(t);return!C(r)&&x(e,r,i)}function T(e,t,i){var r=A(t,i,!1);return!R(r)&&K(r.has(e))}function S(e,t,i){if(T(e,t,i))return F(e,t,i);var r=$(t);return C(r)?void 0:S(e,r,i)}function F(e,t,i){var r=A(t,i,!1);if(!R(r))return r.get(e)}function M(e,t,i,r){A(i,r,!0).set(e,t)}function P(e,t){var i=V(e,t),r=$(e);if(null===r)return i;var n=P(r,t);if(n.length<=0)return i;if(i.length<=0)return n;for(var s=new d,o=[],a=0,l=i;a<l.length;a++){var h=l[a];s.has(h)||(s.add(h),o.push(h))}for(var f=0,u=n;f<u.length;f++){h=u[f];s.has(h)||(s.add(h),o.push(h))}return o}function V(e,t){var i=[],r=A(e,t,!1);if(R(r))return i;for(var n=H(r.keys()),s=0;;){var o=X(n);if(!o)return i.length=s,i;var a=Q(o);try{i[s]=a}catch(e){try{Z(n)}finally{throw e}}s++}}function I(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function C(e){return null===e}function L(e){return"symbol"==typeof e}function q(e){return"object"==typeof e?null!==e:"function"==typeof e}function N(e,t){switch(I(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",n=G(e,r);if(void 0!==n){var s=n.call(e,i);if(q(s))throw new TypeError;return s}return J(e,"default"===i?"number":i)}function J(e,t){if("string"===t){var i=e.toString;if(B(i))if(!q(n=i.call(e)))return n;if(B(r=e.valueOf))if(!q(n=r.call(e)))return n}else{var r;if(B(r=e.valueOf))if(!q(n=r.call(e)))return n;var n,s=e.toString;if(B(s))if(!q(n=s.call(e)))return n}throw new TypeError}function K(e){return!!e}function U(e){return""+e}function z(e){var t=N(e,3);return L(t)?t:U(t)}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function B(e){return"function"==typeof e}function W(e){return"function"==typeof e}function Y(e){switch(I(e)){case 3:case 4:return!0;default:return!1}}function G(e,t){var i=e[t];if(null!=i){if(!B(i))throw new TypeError;return i}}function H(e){var t=G(e,n);if(!B(t))throw new TypeError;var i=t.call(e);if(!q(i))throw new TypeError;return i}function Q(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function $(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===h)return t;if(t!==h)return t;var i=e.prototype,r=i&&Object.getPrototypeOf(i);if(null==r||r===Object.prototype)return t;var n=r.constructor;return"function"!=typeof n||n===e?t:n}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[n]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var r=this._keys.length,n=i+1;n<r;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,r)},t.prototype.values=function(){return new i(this._keys,this._values,s)},t.prototype.entries=function(){return new i(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[n]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new u}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[n]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),r=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+h()}while(l.has(i,e));return i[e]=!0,e}function s(e,i){if(!t.call(e,r)){if(!i)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function o(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function h(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",r=0;r<e;++r){var n=t[r];4!==r&&6!==r&&8!==r||(i+="-"),n<16&&(i+="0"),i+=n.toString(16).toLowerCase()}return i}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",_),e("metadata",p),e("defineMetadata",y),e("hasMetadata",v),e("hasOwnMetadata",b),e("getMetadata",g),e("getOwnMetadata",m),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",k)}(r)}()}(P||(P={})),e.FieldConfig=s,e.Form=class{constructor(e,t,r){if(this.fields=[],this.validation_options={validator:void 0,options:{skipMissingProperties:!1,dismissDefaultMessages:!1,validationError:{target:!1,value:!1},forbidUnknownValues:!0,stopAtFirstError:!1},field_error_link_name:"property"},this.errors=[],this.valid=n(!1),this.loading=n(!1),this.changed=n(!1),this.touched=n(!1),this.value_changes=n({}),this.on_events=new a,this.clear_errors_on_events=new a({},!0),this.link_fields_to_model="always",this.field_order=[],this.field_names=[],this.initial_state={},this.initial_state_str="",this.stateful_items=["valid","touched","value_changes","errors","refs","field_order","model","hidden_fields","disabled_fields"],this.required_fields=[],this.perf_options={link_all_values_on_event:"all",enable_hidden_fields_detection:!0,enable_disabled_fields_detection:!0,enable_change_detection:!0},this.buildFields=(e=this.model)=>{this.fields=h(e),this.field_names=this.fields.map((e=>e.name)),this.required_fields=f(this.fields)},this.useField=e=>{const t=l(e.name,this.fields);t.node=e,d(t,this.on_events,(e=>E(this,this.required_fields,this.stateful_items,this.initial_state_str,this.field_names,t))),c(e,this.clear_errors_on_events,(e=>{t.errors.set(null)}))},this.loadData=(e,t=!0,i=!0)=>(t?(this.model=e,this.buildFields()):(Object.keys(this.model).forEach((t=>{this.model[t]=e[t]})),p(!1,this.fields,this.model)),i&&this.updateInitialState(),this),this.attachRefData=e=>{const t=this.fields.filter((e=>e.ref_key));e?(this.refs=e,t.forEach((t=>{t.ref_key&&(t.options=e[t.ref_key])}))):this.refs&&t.forEach((e=>{e.ref_key&&(e.options=this.refs[e.ref_key])}))},this.validate=e=>E(this,this.required_fields,this.stateful_items,this.initial_state_str,this.field_names,null,e),this.validateAsync=async e=>await E(this,this.required_fields,this.stateful_items,this.initial_state_str,this.field_names,null,e),this.validateField=(e,t,r)=>{const n=l(e,this.fields);if(t){const r=new o(e,{error:t},{value:i(n.value)});this.errors.push(r),v(this.errors,this.fields)}else E(this,this.required_fields,this.stateful_items,this.initial_state_str,this.field_names,n,r)},this.addEventListenerToFields=(e,t,i)=>{if(Array.isArray(i)){i.map((e=>l(e,this.fields))).forEach((i=>{_(i,e,t,!1)}))}else{_(l(i,this.fields),e,t,!1)}},this.addValidationCallbackToFields=(e,t,i)=>{if(Array.isArray(i)){i.map((e=>l(e,this.fields))).forEach((i=>{_(i,e,t)}))}else{_(l(i,this.fields),e,t)}},this.get=e=>l(e,this.fields),this.storify=()=>n(this),this.clearErrors=()=>{this.errors=[],this.fields.forEach((e=>{e.errors.set(null)}))},this.destroy=()=>{this.fields&&this.fields.length>0&&this.fields.forEach((e=>{Object.keys(this.on_events).forEach((t=>{e.node.removeEventListener(t,(e=>{}))})),Object.keys(this.clear_errors_on_events).forEach((t=>{e.node.removeEventListener(t,(t=>{e.errors.set(null)}))}))}))},this.reset=()=>{T(this,this.stateful_items,this.initial_state)},this.updateInitialState=()=>{x(this,this.stateful_items,this.initial_state,this.initial_state_str),this.changed.set(!1)},this.setOrder=e=>{e&&e.length>0&&(this.field_order=e,this.fields=S(this.field_order,this.fields))},this.hideFields=e=>{e&&(Array.isArray(e)?this.hidden_fields.push(...e):this.hidden_fields.push(e)),M(this.hidden_fields,this.field_names,this.fields,{type:"hide",value:!0})},this.showFields=e=>{e&&(Array.isArray(e)?e.forEach((e=>{this.hidden_fields.splice(this.hidden_fields.indexOf(e),1)})):this.hidden_fields.splice(this.hidden_fields.indexOf(e),1)),M(this.hidden_fields,this.field_names,this.fields,{type:"hide",value:!1})},this.disableFields=e=>{e&&(Array.isArray(e)?this.disabled_fields.push(...e):this.disabled_fields.push(e)),M(this.disabled_fields,this.field_names,this.fields,{type:"disable",value:!0})},this.enableFields=e=>{e&&(Array.isArray(e)?e.forEach((e=>{this.disabled_fields.splice(this.disabled_fields.indexOf(e),1)})):this.disabled_fields.splice(this.disabled_fields.indexOf(e),1)),M(this.disabled_fields,this.field_names,this.fields,{type:"disable",value:!1})},r&&Object.keys(r).forEach((e=>{this[e]=r[e]})),!e)throw new Error("Model is not valid. Please pass in a valid model.");if(this.model=e,this.buildFields(),!t)throw new Error("Please add a validator with ReturnType<Promise<ValidationError[]>>");this.validation_options.validator=t,this.field_order&&this.field_order.length>0&&this.setOrder(this.field_order),this.refs&&this.attachRefData(),this.disabled_fields&&this.disabled_fields.length>0&&M(this.disabled_fields,this.field_names,this.fields,{type:"disable",value:!0}),this.hidden_fields&&this.hidden_fields.length>0&&M(this.hidden_fields,this.field_names,this.fields,{type:"hide",value:!0}),x(this,this.stateful_items,this.initial_state,this.initial_state_str)}},e.OnEvents=a,e.ValidationError=o,e._addCallbackToField=_,e._attachEventListeners=d,e._attachOnClearErrorEvents=c,e._buildFormFields=h,e._createOrder=S,e._executeCallbacks=m,e._get=l,e._getRequiredFieldNames=f,e._getStateSnapshot=j,e._handleFormValidation=k,e._handleValidationEvent=E,e._hanldeValueLinking=b,e._hasStateChanged=A,e._linkAllErrors=v,e._linkFieldErrors=y,e._linkValues=p,e._negateField=M,e._requiredFieldsValid=O,e._resetState=T,e._setFieldAttribute=F,e._setInitialState=x,e._setValueChanges=u,e.field=function(e){return function(t,i){let r=Reflect.getMetadata("editableProperties",t)||[];r.indexOf(i)<0&&r.push(i),Reflect.defineMetadata("editableProperties",r,t),Reflect.defineMetadata("fieldConfig",e,t,i)}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
