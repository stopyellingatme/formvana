!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@formvana"]={})}(this,(function(e){"use strict";function t(){}function r(e){let r;return function(e,...r){if(null==e)return t;const i=e.subscribe(...r);return i.unsubscribe?()=>i.unsubscribe():i}(e,(e=>r=e))(),r}const i=[];function n(e,r=t){let n;const s=[];function o(t){if(o=t,((r=e)!=r?o==o:r!==o||r&&"object"==typeof r||"function"==typeof r)&&(e=t,n)){const t=!i.length;for(let t=0;t<s.length;t+=1){const r=s[t];r[1](),i.push(r,e)}if(t){for(let e=0;e<i.length;e+=2)i[e][0](i[e+1]);i.length=0}}var r,o}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const l=[i,a];return s.push(l),1===s.length&&(n=r(o)||t),i(e),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(n(),n=null)}}}}class s{constructor(e,t){if(!e)throw new Error("{name: string} is required for FieldConfig intialization.");if(this.name=e,t&&Object.assign(this,t),!this.selector)throw new Error("Please pass in a valid Element.\nEither a string selector or a SvelteComponent.");switch(this.value&&this.value.subscribe||(this.value=n(this.value)),this.attributes&&!this.attributes.type?this.attributes.type=this.type:this.attributes||(this.attributes={},this.attributes.type=this.type),this.type){case"text":this.value.set("");break;case"decimal":case"number":this.value.set(0);break;case"boolean":this.value.set(!1),this.options=[];break;case"select":this.options=[];break;default:this.value.set(void 0)}!this.attributes["aria-label"]&&this.attributes.title?this.attributes["aria-label"]=this.attributes.title:this.attributes["aria-label"]||(this.attributes["aria-label"]=this.label||this.name)}name;node;selector;value=n(void 0);type="text";required;label;hint;errors=n(void 0);styles;classes;ref_key;options;disabled;hidden;attributes;data_set;for_form;validation_rules;group;step;clearErrors=()=>{this.errors.set(void 0)};clear=()=>{this.clearErrors()};addEventListener=(e,t)=>{if(!this.node)throw new Error("Node is missing! No Html Node to attach event listener too!");this.node.addEventListener(e,(e=>t instanceof Function?t(e):t),!1)}}class o{constructor(e,t,r){if(e&&(this.property=e),t&&(this.constraints=t),r){let e;for(e in r)this[e]=r[e]}}target;property;value;constraints;children}class a{constructor(e,t=!1){if(t){let e;for(e in this)this[e]=!1}Object.assign(this,e)}blur=!0;change=!0;click=!1;dblclick=!1;focus=!0;input=!0;keydown=!1;keypress=!1;keyup=!1;mount=!1;mousedown=!1;mouseenter=!1;mouseleave=!1;mousemove=!1;mouseout=!1;mouseover=!1;mouseup=!1;submit=!0}function l(e,t){return t.filter((t=>t.name===e))[0]}function u(e,t,r,i,n){i&&i.when?t.addEventListener(r,d(e,n,void 0,[i])):t.addEventListener(r,i)}function f(e,t,i){let n=0,s=t.length;for(;s>n;++n){const s=t[n].name,o=t[n].value;e?i[s]=r(o):o.set(i[s])}}function c(e,t,r){e.forEach((e=>{let i;for(i in e)if(i===r){l(e[r],t).errors.set(e)}}))}function h(e,t,r){("always"===r||"valid"===r)&&f(!0,t,e)}function d(e,t,r,i){return e.pristine.set(!1),v([h(e.model,e.fields,e.validation_options.link_fields_to_model),r&&g(e.value_changes,r),i&&p("before",i)]),e.validation_options.validator(e.model,e.validation_options.options).then((n=>(v([y(e,n,t,r),m(e.value_changes,e.changed),i&&p("after",i)]),n)))}function p(e,t){t&&t.length>0&&t.forEach((t=>{t.when===e&&_(t.callback)}))}function _(e){e instanceof Function&&e()}function v(e){Array.isArray(e)?e.forEach((e=>{_(e)})):_(e)}async function y(e,t,r,i){return t&&t.length>0?(e.errors=t,i?e.validation_options.field_error_link_name&&function(e,t,r){const i=e.filter((e=>e[r]===t.name));i&&i.length>0?t.errors.set(i[0]):t.errors.set(void 0)}(t,i,e.validation_options.field_error_link_name):c(t,e.fields,e.validation_options.field_error_link_name),!function(e,t){if(0===e.length)return!0;let r=0,i=t.length;if(0===i)return!0;const n=e.map((e=>e.property));for(;i>r;++r)if(-1!==n.indexOf(t[r]))return!1;return!0}(t,r)?e.valid.set(!1):e.valid.set(!0)):(h(e.model,e.fields,e.validation_options.link_fields_to_model),e.clearErrors(),e.valid.set(!0)),t}function g(e,t){const i=r(e);i[t.name]?(i[t.name]=r(t.value),e.set({...i})):e.set({...i,[t.name]:r(t.value)})}function m(e,t){const i=r(e);i&&i!=={}&&Object.keys(i).length>0?t.set(!0):t.set(!1)}function b(e,t){return t.model=Object.assign({},e.model),e.errors&&e.errors.length>0?t.errors=[...e.errors]:t.errors=[],t}function w(e,t,r){let i=0,n=e.length;if(0===n)return;const s=t.map((e=>e.name));for(;n>i;++i){const n=s.indexOf(e[i]);if(-1!==n){E(s[n],t,r)}}}function E(e,t,r){const i=l(e,t);let n;for(n in r)"attributes"===n?Object.assign(i.attributes,r[n]):"name"!==n&&k(i,n,r[n])}function k(e,t,r){e[t]=r}var O,j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*! *****************************************************************************
    Copyright (C) Microsoft. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */!function(e){!function(t){var r="object"==typeof j?j:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=n(e);function n(e,t){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0===r.Reflect?r.Reflect=e:i=n(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,l={create:s?function(){return ie(Object.create(null))}:o?function(){return ie({__proto__:null})}:function(){return ie({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),f="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,c=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,d=new(f||"function"!=typeof WeakMap?re():WeakMap);function p(e,t,r,i){if(R(r)){if(!W(e))throw new TypeError;if(!G(t))throw new TypeError;return O(e,t)}if(!W(e))throw new TypeError;if(!V(t))throw new TypeError;if(!V(i)&&!R(i)&&!q(i))throw new TypeError;return q(i)&&(i=void 0),j(e,t,r=D(r),i)}function _(e,t){function r(r,i){if(!V(r))throw new TypeError;if(!R(i)&&!H(i))throw new TypeError;F(e,t,r,i)}return r}function v(e,t,r,i){if(!V(r))throw new TypeError;return R(i)||(i=D(i)),F(e,t,r,i)}function y(e,t,r){if(!V(t))throw new TypeError;return R(r)||(r=D(r)),x(e,t,r)}function g(e,t,r){if(!V(t))throw new TypeError;return R(r)||(r=D(r)),T(e,t,r)}function m(e,t,r){if(!V(t))throw new TypeError;return R(r)||(r=D(r)),M(e,t,r)}function b(e,t,r){if(!V(t))throw new TypeError;return R(r)||(r=D(r)),P(e,t,r)}function w(e,t){if(!V(e))throw new TypeError;return R(t)||(t=D(t)),S(e,t)}function E(e,t){if(!V(e))throw new TypeError;return R(t)||(t=D(t)),C(e,t)}function k(e,t,r){if(!V(t))throw new TypeError;R(r)||(r=D(r));var i=A(t,r,!1);if(R(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var n=d.get(t);return n.delete(r),n.size>0||d.delete(t),!0}function O(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!R(i)&&!q(i)){if(!G(i))throw new TypeError;t=i}}return t}function j(e,t,r,i){for(var n=e.length-1;n>=0;--n){var s=(0,e[n])(t,r,i);if(!R(s)&&!q(s)){if(!V(s))throw new TypeError;i=s}}return i}function A(e,t,r){var i=d.get(e);if(R(i)){if(!r)return;i=new c,d.set(e,i)}var n=i.get(t);if(R(n)){if(!r)return;n=new c,i.set(t,n)}return n}function x(e,t,r){if(T(e,t,r))return!0;var i=Z(t);return!q(i)&&x(e,i,r)}function T(e,t,r){var i=A(t,r,!1);return!R(i)&&U(i.has(e))}function M(e,t,r){if(T(e,t,r))return P(e,t,r);var i=Z(t);return q(i)?void 0:M(e,i,r)}function P(e,t,r){var i=A(t,r,!1);if(!R(i))return i.get(e)}function F(e,t,r,i){A(r,i,!0).set(e,t)}function S(e,t){var r=C(e,t),i=Z(e);if(null===i)return r;var n=S(i,t);if(n.length<=0)return r;if(r.length<=0)return n;for(var s=new h,o=[],a=0,l=r;a<l.length;a++){var u=l[a];s.has(u)||(s.add(u),o.push(u))}for(var f=0,c=n;f<c.length;f++){u=c[f];s.has(u)||(s.add(u),o.push(u))}return o}function C(e,t){var r=[],i=A(e,t,!1);if(R(i))return r;for(var n=B(i.keys()),s=0;;){var o=Q(n);if(!o)return r.length=s,r;var a=J(o);try{r[s]=a}catch(e){try{X(n)}finally{throw e}}s++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function q(e){return null===e}function I(e){return"symbol"==typeof e}function V(e){return"object"==typeof e?null!==e:"function"==typeof e}function K(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=Y(e,i);if(void 0!==n){var s=n.call(e,r);if(V(s))throw new TypeError;return s}return z(e,"default"===r?"number":r)}function z(e,t){if("string"===t){var r=e.toString;if($(r))if(!V(n=r.call(e)))return n;if($(i=e.valueOf))if(!V(n=i.call(e)))return n}else{var i;if($(i=e.valueOf))if(!V(n=i.call(e)))return n;var n,s=e.toString;if($(s))if(!V(n=s.call(e)))return n}throw new TypeError}function U(e){return!!e}function N(e){return""+e}function D(e){var t=K(e,3);return I(t)?t:N(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function $(e){return"function"==typeof e}function G(e){return"function"==typeof e}function H(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var r=e[t];if(null!=r){if(!$(r))throw new TypeError;return r}}function B(e){var t=Y(e,n);if(!$(t))throw new TypeError;var r=t.call(e);if(!V(r))throw new TypeError;return r}function J(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n||n===e?t:n}function ee(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[n]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,s)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[n]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new c}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[n]=function(){return this.keys()},e}()}function re(){var e=16,r=l.create(),i=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+u()}while(l.has(r,e));return r[e]=!0,e}function s(e,r){if(!t.call(e,i)){if(!r)return;Object.defineProperty(e,i,{value:l.create()})}return e[i]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function u(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",i=0;i<e;++i){var n=t[i];4!==i&&6!==i&&8!==i||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",_),e("defineMetadata",v),e("hasMetadata",y),e("hasOwnMetadata",g),e("getMetadata",m),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",k)}(i)}()}(O||(O={}));class A{constructor(e,t){e&&(this.forms=e),t&&Object.assign(this,t),this.#getAllValueChanges(),this.#getAllValid(),this.#getAllChanged(),this.#getAllPristine()}forms=[];loading=n(!1);all_value_changes=n({});all_valid=n(!1);any_changed=n(!1);all_pristine=n(!1);#all_valid_list={};#all_changed_list={};#all_pristine_list={};validateAll=(e,t)=>{if(t)t.forEach((t=>{this.forms&&this.forms[t].validate(e)}));else{let t;for(t in this.forms)this.forms[t].validate(e)}};destroy=()=>{};resetAll=()=>{this.forms.forEach((e=>e.reset()))};#getAllValueChanges=()=>{let e,t=0;for(e in this.forms){const i=`form_${t}`;if("{}"!=`${r(this.forms[e].value_changes)}`){const t=r(this.all_value_changes);t[i]||this.all_value_changes.set({...t,[i]:{}}),this.forms[e].value_changes.subscribe((e=>{const t=r(this.all_value_changes);this.all_value_changes.set({...t,[i]:e})}))}t++}};#getAllValid=()=>{let e,t=0;for(e in this.forms){const r=t;this.forms[e].valid.subscribe((e=>{this.#all_valid_list[r]=e,Object.values(this.#all_valid_list).includes(!1)?this.all_valid.set(!1):this.all_valid.set(!0)})),t++}};#getAllChanged=()=>{let e,t=0;for(e in this.forms){const r=t;this.forms[e].changed.subscribe((e=>{this.#all_changed_list[r]=e,Object.values(this.#all_changed_list).includes(!0)?this.any_changed.set(!0):this.any_changed.set(!1)})),t++}};#getAllPristine=()=>{let e,t=0;for(e in this.forms){const r=t;this.forms[e].pristine.subscribe((e=>{this.#all_pristine_list[r]=e,Object.values(this.#all_pristine_list).includes(!1)?this.all_pristine.set(!1):this.all_pristine.set(!0)})),t++}}}e.FieldConfig=s,e.FieldStepper=class{constructor(e,t){if(this.fields=e,t)this.active_step=t;else{let t;for(t in e)this.active_step=t}}fields;active_step;get fields_valid(){let e,t=!0;for(e in this.fields)r(this.fields[e].errors)&&(t=!1);return n(t)}},e.Form=class{constructor(e,t,r){if(r&&Object.assign(this,r),!e)throw new Error("Model is not valid. Please use a valid model.");if(this.model=e,this.#buildFields(),!t)throw new Error("Please add a validator with ReturnType<Promise<ValidationError[]>>");Object.assign(this.validation_options,t),this.refs&&this.attachRefData(),this.disabled_fields&&w(this.disabled_fields,this.fields,{disabled:!0,attributes:{disabled:!0}}),this.hidden_fields&&w(this.hidden_fields,this.fields,{hidden:!0}),b(this,this.initial_state)}model;fields=[];validation_options={validator:async()=>[],on_events:new a,link_fields_to_model:"always",field_error_link_name:"property",options:{skipMissingProperties:!1,dismissDefaultMessages:!1,validationError:{target:!1,value:!1},forbidUnknownValues:!0,stopAtFirstError:!1}};errors=[];valid=n(!1);changed=n(!1);pristine=n(!0);loading=n(!1);template;refs;value_changes=n({});initial_state={model:void 0,errors:void 0};hidden_fields;disabled_fields;meta;#field_order;#required_fields=[];#buildFields=(e=this.model)=>{this.fields=function(e,t,r=Reflect.getMetadata("editableProperties",e)){const i=r.map((t=>new s(t,{...Reflect.getMetadata("fieldConfig",e,t),value:e[t]})));return t&&i.filter((e=>t.name===e.for_form)),i}(e,this.meta),this.#required_fields=this.fields.filter((e=>e.required)).map((e=>e.name))};useField=e=>{const t=l(e.name,this.fields);t.node=e,this.validation_options.on_events&&function(e,t,r){Object.entries(t).forEach((([t,i])=>{i&&("SELECT"===e.node?.nodeName&&"input"!==t&&e.addEventListener(t,r),"SELECT"!==e.node?.nodeName&&e.addEventListener(t,r))}))}(t,this.validation_options.on_events,(e=>d(this,this.#required_fields,t)))};validate=e=>d(this,this.#required_fields,void 0,e);validateAsync=async e=>await d(this,this.#required_fields,void 0,e);validateField=(e,t,i)=>{const n=l(e,this.fields);if(t){const i=new o(e,{error:t},{value:r(n.value)});this.errors.push(i),c(this.errors,this.fields,this.validation_options.field_error_link_name)}else d(this,this.#required_fields,n,i)};attachCallbacks=(e,t,r)=>{if(Array.isArray(r)){r.map((e=>l(e,this.fields))).forEach((r=>{u(this,r,e,t,this.#required_fields)}))}else{u(this,l(r,this.fields),e,t,this.#required_fields)}};clearErrors=()=>{this.errors=[],this.fields.forEach((e=>{e.errors.set(void 0)}))};get=e=>l(e,this.fields);loadModel=(e,t=!1,r=!1)=>{if(t)this.model=e,this.#buildFields();else{let t;for(t in this.model)this.model[t]=e[t];f(!1,this.fields,this.model)}return r&&this.updateInitialState(),this};attachRefData=e=>{const t=this.fields.filter((e=>e.ref_key));e?(this.refs=e,t.forEach((t=>{t.ref_key&&(t.options=e[t.ref_key])}))):this.refs&&t.forEach((e=>{e.ref_key&&this.refs&&(e.options=this.refs[e.ref_key])}))};destroy=()=>{this.fields&&this.fields.length>0&&this.fields.forEach((e=>{this.validation_options.on_events&&Object.keys(this.validation_options.on_events).forEach((t=>{e.node&&e.node.removeEventListener(t,(e=>{}))}))}))};reset=()=>{!function(e,t){let r;if(t.model)for(r in t.model)e.model[r]=t.model[r];e.clearErrors(),t.errors&&t.errors.length>0?e.errors=[...t.errors]:e.errors=[],f(!1,e.fields,e.model),e.errors&&e.errors.length>0&&c(e.errors,e.fields,e.validation_options.field_error_link_name),e.value_changes.set({}),e.changed.set(!1)}(this,this.initial_state)};updateInitialState=()=>{b(this,this.initial_state),this.changed.set(!1)};setFieldOrder=e=>{e&&e.length>0&&(this.#field_order=e,this.fields=function(e,t){let r=[],i=[];return e.forEach((n=>{const s=l(n,t);s.name===n?r.push(s):-1===i.indexOf(s)&&-1===e.indexOf(s.name)&&i.push(s)})),t=[...r,...i]}(this.#field_order,this.fields))};setFieldAttributes=(e,t)=>{e&&(Array.isArray(e)?w(e,this.fields,t):w([e],this.fields,t))}},e.FormGroup=class extends A{constructor(e,t){super(e,t)}},e.FormManager=A,e.FormStepper=class extends A{constructor(e,t){super(e,t)}active_step=0;next=()=>{"number"==typeof this.active_step&&this.active_step++};back=()=>{"number"==typeof this.active_step&&this.active_step--}},e.OnEvents=a,e.ValidationError=o,e.field=function(e){return function(t,r){let i=Reflect.getMetadata("editableProperties",t)||[];i.indexOf(r)<0&&i.push(r),Reflect.defineMetadata("editableProperties",i,t),Reflect.defineMetadata("fieldConfig",e,t,r)}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
