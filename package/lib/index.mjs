import"svelte";function t(){}function e(e){let r;return function(e,...r){if(null==e)return t;const i=e.subscribe(...r);return i.unsubscribe?()=>i.unsubscribe():i}(e,(t=>r=t))(),r}const r=[];function i(e,i=t){let n;const o=[];function s(t){if(s=t,((i=e)!=i?s==s:i!==s||i&&"object"==typeof i||"function"==typeof i)&&(e=t,n)){const t=!r.length;for(let t=0;t<o.length;t+=1){const i=o[t];i[1](),r.push(i,e)}if(t){for(let t=0;t<r.length;t+=2)r[t][0](r[t+1]);r.length=0}}var i,s}return{set:s,update:function(t){s(t(e))},subscribe:function(r,a=t){const u=[r,a];return o.push(u),1===o.length&&(n=i(s)||t),r(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(n(),n=null)}}}}class n{constructor(t){switch(this.type="text",this.required=!1,this.value=i(null),this.attributes={},this.errors=i(null),this.clearValue=()=>{this.value.set(null)},this.clearErrors=()=>{this.errors.set(null)},this.clear=()=>{this.clearValue(),this.clearErrors()},Object.assign(this,t),this.attributes.type=this.type,this.type){case"text":this.value.set("");break;case"decimal":case"number":this.value.set(0);break;case"boolean":this.value.set(!1),this.options=[];break;case"select":this.options=[];break;default:this.value.set("")}!this.attributes["aria-label"]&&this.attributes.title?this.attributes["aria-label"]=this.attributes.title:this.attributes["aria-label"]=this.label||this.name}}var o=function(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)},s=function(){function t(){}return t.prototype.transform=function(t){var e=[];return Object.keys(t.properties).forEach((function(r){t.properties[r].forEach((function(i){var n={message:i.message,groups:i.groups,always:i.always,each:i.each},s={type:i.type,target:t.name,propertyName:r,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:n};e.push(new o(s))}))})),e},t}();function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0}function u(t){return null!==t&&"object"==typeof t&&"function"==typeof t.then}var l=function(){function t(){this.validationMetadatas=[],this.constraintMetadatas=[]}return Object.defineProperty(t.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.length},enumerable:!1,configurable:!0}),t.prototype.addValidationSchema=function(t){var e=this;(new s).transform(t).forEach((function(t){return e.addValidationMetadata(t)}))},t.prototype.addValidationMetadata=function(t){this.validationMetadatas.push(t)},t.prototype.addConstraintMetadata=function(t){this.constraintMetadatas.push(t)},t.prototype.groupByPropertyName=function(t){var e={};return t.forEach((function(t){e[t.propertyName]||(e[t.propertyName]=[]),e[t.propertyName].push(t)})),e},t.prototype.getTargetValidationMetadatas=function(t,e,r,i,n){var o=function(t){return void 0!==t.always?t.always:(!t.groups||!t.groups.length)&&r},s=function(t){return!(!i||n&&n.length||!t.groups||!t.groups.length)},a=this.validationMetadatas.filter((function(r){return(r.target===t||r.target===e)&&(!!o(r)||!s(r)&&(!(n&&n.length>0)||r.groups&&!!r.groups.find((function(t){return-1!==n.indexOf(t)}))))})),u=this.validationMetadatas.filter((function(e){return"string"!=typeof e.target&&(e.target!==t&&((!(e.target instanceof Function)||t.prototype instanceof e.target)&&(!!o(e)||!s(e)&&(!(n&&n.length>0)||e.groups&&!!e.groups.find((function(t){return-1!==n.indexOf(t)}))))))})).filter((function(t){return!a.find((function(e){return e.propertyName===t.propertyName&&e.type===t.type}))}));return a.concat(u)},t.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.filter((function(e){return e.target===t}))},t}();var c=function(){function t(){}return t.prototype.toString=function(t,e,r){var i=this;void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===r&&(r="");var n=t?"[1m":"",o=t?"[22m":"",s=function(t){return" - property "+n+r+t+o+" has failed the following constraints: "+n+Object.keys(i.constraints).join(", ")+o+" \n"};if(e){var a=Number.isInteger(+this.property)?"["+this.property+"]":(r?".":"")+this.property;return this.constraints?s(a):this.children?this.children.map((function(e){return e.toString(t,!0,""+r+a)})).join(""):""}return"An instance of "+n+(this.target?this.target.constructor.name:"an object")+o+" has failed the validation:\n"+(this.constraints?s(this.property):"")+(this.children?this.children.map((function(e){return e.toString(t,!0,i.property)})).join(""):"")},t}(),h=function(){function t(){}return t.isValid=function(t){var e=this;return"isValid"!==t&&"getMessage"!==t&&-1!==Object.keys(this).map((function(t){return e[t]})).indexOf(t)},t.CUSTOM_VALIDATION="customValidation",t.NESTED_VALIDATION="nestedValidation",t.PROMISE_VALIDATION="promiseValidation",t.CONDITIONAL_VALIDATION="conditionalValidation",t.WHITELIST="whitelistValidation",t.IS_DEFINED="isDefined",t}();var f=function(){function t(){}return t.replaceMessageSpecialTokens=function(t,e){var r;return t instanceof Function?r=t(e):"string"==typeof t&&(r=t),r&&e.constraints instanceof Array&&e.constraints.forEach((function(t,e){r=r.replace(new RegExp("\\$constraint"+(e+1),"g"),function(t){return Array.isArray(t)?t.join(", "):""+t}(t))})),r&&void 0!==e.value&&null!==e.value&&"string"==typeof e.value&&(r=r.replace(/\$value/g,e.value)),r&&(r=r.replace(/\$property/g,e.property)),r&&(r=r.replace(/\$target/g,e.targetName)),r},t}(),d=function(){function t(t,e){this.validator=t,this.validatorOptions=e,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=function(){var t=a();return t.classValidatorMetadataStorage||(t.classValidatorMetadataStorage=new l),t.classValidatorMetadataStorage}()}return t.prototype.execute=function(t,e,r){var i,n=this;this.metadataStorage.hasValidationMetaData||!0!==(null===(i=this.validatorOptions)||void 0===i?void 0:i.enableDebugMessages)||console.warn("No metadata found. There is more than once class-validator version installed probably. You need to flatten your dependencies.");var o=this.validatorOptions?this.validatorOptions.groups:void 0,s=this.validatorOptions&&this.validatorOptions.strictGroups||!1,a=this.validatorOptions&&this.validatorOptions.always||!1,u=this.metadataStorage.getTargetValidationMetadatas(t.constructor,e,a,s,o),l=this.metadataStorage.groupByPropertyName(u);if(this.validatorOptions&&this.validatorOptions.forbidUnknownValues&&!u.length){var f=new c;return this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(f.target=t),f.value=void 0,f.property=void 0,f.children=[],f.constraints={unknownValue:"an unknown value was passed to the validate function"},void r.push(f)}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(t,l,r),Object.keys(l).forEach((function(e){var i=t[e],o=l[e].filter((function(t){return t.type===h.IS_DEFINED})),s=l[e].filter((function(t){return t.type!==h.IS_DEFINED&&t.type!==h.WHITELIST}));i instanceof Promise&&s.find((function(t){return t.type===h.PROMISE_VALIDATION}))?n.awaitingPromises.push(i.then((function(i){n.performValidations(t,i,e,o,s,r)}))):n.performValidations(t,i,e,o,s,r)}))},t.prototype.whitelist=function(t,e,r){var i=this,n=[];Object.keys(t).forEach((function(t){e[t]&&0!==e[t].length||n.push(t)})),n.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?n.forEach((function(e){var n,o=i.generateValidationError(t,t[e],e);o.constraints=((n={})[h.WHITELIST]="property "+e+" should not exist",n),o.children=void 0,r.push(o)})):n.forEach((function(e){return delete t[e]})))},t.prototype.stripEmptyErrors=function(t){var e=this;return t.filter((function(t){if(t.children&&(t.children=e.stripEmptyErrors(t.children)),0===Object.keys(t.constraints).length){if(0===t.children.length)return!1;delete t.constraints}return!0}))},t.prototype.performValidations=function(t,e,r,i,n,o){var s=n.filter((function(t){return t.type===h.CUSTOM_VALIDATION})),a=n.filter((function(t){return t.type===h.NESTED_VALIDATION})),u=n.filter((function(t){return t.type===h.CONDITIONAL_VALIDATION})),l=this.generateValidationError(t,e,r);o.push(l),this.conditionalValidations(t,e,u)&&(this.customValidations(t,e,i,l),this.mapContexts(t,e,i,l),void 0===e&&this.validatorOptions&&!0===this.validatorOptions.skipUndefinedProperties||null===e&&this.validatorOptions&&!0===this.validatorOptions.skipNullProperties||null==e&&this.validatorOptions&&!0===this.validatorOptions.skipMissingProperties||(this.customValidations(t,e,s,l),this.nestedValidations(e,a,l.children),this.mapContexts(t,e,n,l),this.mapContexts(t,e,s,l)))},t.prototype.generateValidationError=function(t,e,r){var i=new c;return this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(i.target=t),this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.value&&!0!==this.validatorOptions.validationError.value||(i.value=e),i.property=r,i.children=[],i.constraints={},i},t.prototype.conditionalValidations=function(t,e,r){return r.map((function(r){return r.constraints[0](t,e)})).reduce((function(t,e){return t&&e}),!0)},t.prototype.customValidations=function(t,e,r,i){var n=this;r.forEach((function(r){n.metadataStorage.getTargetValidatorConstraints(r.constraintCls).forEach((function(o){if(!(o.async&&n.ignoreAsyncValidations||n.validatorOptions&&n.validatorOptions.stopAtFirstError&&Object.keys(i.constraints||{}).length>0)){var s={targetName:t.constructor?t.constructor.name:void 0,property:r.propertyName,object:t,value:e,constraints:r.constraints};if(r.each&&(e instanceof Array||e instanceof Set||e instanceof Map)){var a,l=((a=e)instanceof Map?Array.from(a.values()):Array.isArray(a)?a:Array.from(a)).map((function(t){return o.instance.validate(t,s)}));if(l.some((function(t){return u(t)}))){var c=l.map((function(t){return u(t)?t:Promise.resolve(t)})),h=Promise.all(c).then((function(s){if(!s.every((function(t){return t}))){var a=n.createValidationError(t,e,r,o),u=a[0],l=a[1];i.constraints[u]=l,r.context&&(i.contexts||(i.contexts={}),i.contexts[u]=Object.assign(i.contexts[u]||{},r.context))}}));n.awaitingPromises.push(h)}else{if(!l.every((function(t){return t}))){var f=n.createValidationError(t,e,r,o);v=f[0],g=f[1];i.constraints[v]=g}}}else{var d=o.instance.validate(e,s);if(u(d)){var p=d.then((function(s){if(!s){var a=n.createValidationError(t,e,r,o),u=a[0],l=a[1];i.constraints[u]=l,r.context&&(i.contexts||(i.contexts={}),i.contexts[u]=Object.assign(i.contexts[u]||{},r.context))}}));n.awaitingPromises.push(p)}else if(!d){var y=n.createValidationError(t,e,r,o),v=y[0],g=y[1];i.constraints[v]=g}}}}))}))},t.prototype.nestedValidations=function(t,e,r){var i=this;void 0!==t&&e.forEach((function(n){var o;if(n.type===h.NESTED_VALIDATION||n.type===h.PROMISE_VALIDATION)if(t instanceof Array||t instanceof Set||t instanceof Map)(t instanceof Set?Array.from(t):t).forEach((function(n,o){i.performValidations(t,n,o.toString(),[],e,r)}));else if(t instanceof Object){var s="string"==typeof n.target?n.target:n.target.name;i.execute(t,s,r)}else{var a=new c;a.value=t,a.property=n.propertyName,a.target=n.target;var u=i.createValidationError(n.target,t,n),l=u[0],f=u[1];a.constraints=((o={})[l]=f,o),r.push(a)}}))},t.prototype.mapContexts=function(t,e,r,i){var n=this;return r.forEach((function(t){if(t.context){var e=void 0;if(t.type===h.CUSTOM_VALIDATION)e=n.metadataStorage.getTargetValidatorConstraints(t.constraintCls)[0];var r=n.getConstraintType(t,e);i.constraints[r]&&(i.contexts||(i.contexts={}),i.contexts[r]=Object.assign(i.contexts[r]||{},t.context))}}))},t.prototype.createValidationError=function(t,e,r,i){var n=t.constructor?t.constructor.name:void 0,o=this.getConstraintType(r,i),s={targetName:n,property:r.propertyName,object:t,value:e,constraints:r.constraints},a=r.message||"";return r.message||this.validatorOptions&&(!this.validatorOptions||this.validatorOptions.dismissDefaultMessages)||i&&i.instance.defaultMessage instanceof Function&&(a=i.instance.defaultMessage(s)),[o,f.replaceMessageSpecialTokens(a,s)]},t.prototype.getConstraintType=function(t,e){return e&&e.name?e.name:t.type},t}(),p=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},y=function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},v=function(){function t(){}return t.prototype.validate=function(t,e,r){return this.coreValidate(t,e,r)},t.prototype.validateOrReject=function(t,e,r){return p(this,void 0,void 0,(function(){var i;return y(this,(function(n){switch(n.label){case 0:return[4,this.coreValidate(t,e,r)];case 1:return(i=n.sent()).length?[2,Promise.reject(i)]:[2]}}))}))},t.prototype.validateSync=function(t,e,r){var i="string"==typeof t?e:t,n="string"==typeof t?t:void 0,o=new d(this,"string"==typeof t?r:e);o.ignoreAsyncValidations=!0;var s=[];return o.execute(i,n,s),o.stripEmptyErrors(s)},t.prototype.coreValidate=function(t,e,r){var i="string"==typeof t?e:t,n="string"==typeof t?t:void 0,o=new d(this,"string"==typeof t?r:e),s=[];return o.execute(i,n,s),Promise.all(o.awaitingPromises).then((function(){return o.stripEmptyErrors(s)}))},t}(),g=new(function(){function t(){this.instances=[]}return t.prototype.get=function(t){var e=this.instances.find((function(e){return e.type===t}));return e||(e={type:t,object:new t},this.instances.push(e)),e.object},t}());function m(t){return g.get(t)}var _,O,E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(t,e,r){return"string"==typeof t?m(v).validate(t,e,r):m(v).validate(t,e)}class w{constructor(t=!0,e){this.input=!0,this.change=!0,this.blur=!0,this.focus=!0,this.mount=!1,this.submit=!0,Object.assign(this,e),t||Object.keys(this).forEach((t=>{this[t]=!1}))}}!function(t){t[t.Always=0]="Always",t[t.Valid=1]="Valid"}(_||(_={}));class k{constructor(t){this.initial_state=null,this.initial_errors=null,this.required_fields=[],this.validation_options={skipMissingProperties:!1,whitelist:!1,forbidNonWhitelisted:!1,dismissDefaultMessages:!1,groups:[],validationError:{target:!1,value:!1},forbidUnknownValues:!0,stopAtFirstError:!1},this.model=null,this.fields=[],this.refs=null,this.classes=[],this.field_order=[],this.template=null,this.valid=i(!1),this.errors=[],this.loading=i(!1),this.changed=i(!1),this.touched=i(!1),this.validate_on_events=new w,this.clear_errors_on_events=new w(!1),this.link_fields_to_model=_.Always,this.buildFields=()=>{if(this.model){let t=Reflect.getMetadata("editableProperties",this.model);this.fields=t.map((t=>{const e=Reflect.getMetadata("fieldConfig",this.model,t);
//! SET THE NAME OF THE FIELD!
return e.name=t,this.model[t]&&e.value.set(this.model[t]),e.required&&this.required_fields.push(e.name),e}))}},this.setOrder=t=>{this.field_order=t,this.createOrder()},this.createOrder=()=>{let t=[],e=[];this.field_order.forEach((r=>{this.fields.forEach((i=>{i.name===r||i.group&&i.group.name===r||i.step&&`${i.step.index}`===r?t.push(i):-1===e.indexOf(i)&&-1===this.field_order.indexOf(i.name)&&e.push(i)}))})),this.fields=[...t,...e]},this.buildStoredLayout=(t,r)=>{let i=[],n=[];t.update((t=>t.field_order=r));const o=e(t);return o.field_order.forEach((t=>{o.fields.forEach((e=>{e.name===t||e.group&&e.group.name===t||e.step&&`${e.step.index}`===t?i.push(e):-1===n.indexOf(e)&&-1===o.field_order.indexOf(e.name)&&n.push(e)}))})),o.fields=[...i,...n],o},this.useField=t=>{this.fields.forEach((e=>{e.name===t.name&&(e.node=t)})),this.handleOnValidateEvents(t),this.handleOnClearErrorEvents(t)},this.validateField=t=>(this.link_fields_to_model===_.Always&&this.linkValues(!0),b(this.model,this.validation_options).then((e=>{this.handleValidation(!0,e,t)}))),this.validate=()=>(this.clearErrors(),this.link_fields_to_model===_.Always&&this.linkValues(!0),b(this.model,this.validation_options).then((t=>(this.handleValidation(!1,t),t)))),this.validateAsync=async()=>{this.clearErrors(),this.link_fields_to_model===_.Always&&this.linkValues(!0);try{return await(t=this.model,e=this.validation_options,"string"==typeof t?m(v).validateOrReject(t,e,r):m(v).validateOrReject(t,e))}catch(t){return this.handleValidation(!1,t),console.log("Errors: ",t),t}var t,e,r},this.loadData=t=>(this.model=t,this.updateInitialState(),this.buildFields(),this),this.attachRefData=t=>{const e=this.fields.filter((t=>t.ref_key));t?e.forEach((e=>{e.options=t[e.ref_key]})):this.refs&&e.forEach((t=>{t.options=this.refs[t.ref_key]}))},this.storify=()=>i(this),this.updateInitialState=()=>{this.initial_state=JSON.parse(JSON.stringify(this.model)),this.initial_errors=JSON.stringify(this.errors),this.changed.set(!1)},this.clearErrors=()=>{this.errors=[],this.fields.forEach((t=>{t.errors.set(null)}))},this.reset=()=>{this.valid.set(!1),this.changed.set(!1),this.touched.set(!1),this.loading.set(!1),Object.keys(this.model).forEach((t=>{this.model[t]=this.initial_state[t]})),this.linkValues(!1),this.clearErrors();const t=JSON.parse(this.initial_errors);t&&t.length>0&&(t.forEach((t=>{const e=new c;Object.assign(e,t),this.errors.push(e)})),this.linkErrors(this.errors))},this.destroy=()=>{this.fields&&this.fields.length>0&&this.fields.forEach((t=>{Object.keys(this.validate_on_events).forEach((e=>{t.node.removeEventListener(e,(e=>{this.validateField(t)}))})),Object.keys(this.clear_errors_on_events).forEach((e=>{t.node.removeEventListener(e,(e=>{this.clearFieldErrors(t.name)}))}))})),this.reset()},this.requiredFieldsValid=t=>{if(0===t.length)return!0;let e=0,r=this.required_fields.length;if(0===r)return!0;const i=t.map((t=>t.property));for(;r>e;++e)if(i.includes(this.required_fields[e]))return!1;return!0},this.handleValidation=(t=!0,e,r)=>{if(e.length>0){this.errors=e,t?this.linkFieldErrors(e,r):this.linkErrors(e);this.requiredFieldsValid(e)?this.valid.set(!0):this.valid.set(!1)}else this.link_fields_to_model===_.Valid&&this.linkValues(!0),this.valid.set(!0),this.clearErrors();this.hasChanged()},this.linkValues=t=>{let r=0,i=this.fields.length;for(;i>r;++r){const i=this.fields[r].name,n=this.fields[r].value;t?this.model[i]=e(n):n.set(this.model[i])}},this.linkFieldValue=t=>{this.model[t.name]=e(t.value)},this.hasChanged=()=>{Object.is(this.model,this.initial_state)&&JSON.stringify(this.errors)===this.initial_errors?this.changed.set(!1):this.changed.set(!0)},this.linkFieldErrors=(t,e)=>{const r=t.filter((t=>t.property===e.name));r&&r.length>0?e.errors.set(r[0]):e.errors.set(null)},this.linkErrors=t=>{t.forEach((t=>{this.fields.forEach((e=>{t.property===e.name&&e.errors.set(t)}))}))},this.clearFieldErrors=t=>{this.fields.forEach((e=>{e.name===t&&e.errors.set(null)}))},this.handleOnValidateEvents=t=>{const e=this.fields.filter((e=>e.name===t.name))[0];Object.entries(this.validate_on_events).forEach((([r,i])=>{e.options?i&&"input"!==r&&t.addEventListener(r,(t=>{this.validateField(e)}),!1):i&&"change"!==r&&t.addEventListener(r,(t=>{this.validateField(e)}),!1)}))},this.handleOnClearErrorEvents=t=>{Object.entries(this.clear_errors_on_events).forEach((([e,r])=>{r&&t.addEventListener(e,(e=>{this.clearFieldErrors(t.name)}))}))},Object.keys(this).forEach((e=>{t[e]&&(this[e]=t[e])})),this.model&&(this.initial_state=JSON.parse(JSON.stringify(this.model)),this.initial_errors=JSON.stringify(this.errors),this.buildFields()),this.field_order&&this.field_order.length>0&&this.setOrder(this.field_order),this.refs&&this.attachRefData()}}
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function V(t,e){let r=Reflect.getMetadata("editableProperties",t)||[];r.indexOf(e)<0&&r.push(e),Reflect.defineMetadata("editableProperties",r,t)}function T(t){return function(e,r){Reflect.defineMetadata("fieldConfig",t,e,r)}}!function(t){!function(e){var r="object"==typeof E?E:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=n(t);function n(t,e){return function(r,i){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:i}),e&&e(r,i)}}void 0===r.Reflect?r.Reflect=t:i=n(r.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,u={create:o?function(){return it(Object.create(null))}:s?function(){return it({__proto__:null})}:function(){return it({})},has:a?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:a?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?tt():Map,f=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?et():Set,d=new(c||"function"!=typeof WeakMap?rt():WeakMap);function p(t,e,r,i){if(D(r)){if(!W(t))throw new TypeError;if(!z(e))throw new TypeError;return k(t,e)}if(!W(t))throw new TypeError;if(!L(e))throw new TypeError;if(!L(i)&&!D(i)&&!C(i))throw new TypeError;return C(i)&&(i=void 0),V(t,e,r=K(r),i)}function y(t,e){function r(r,i){if(!L(r))throw new TypeError;if(!D(i)&&!H(i))throw new TypeError;j(t,e,r,i)}return r}function v(t,e,r,i){if(!L(r))throw new TypeError;return D(i)||(i=K(i)),j(t,e,r,i)}function g(t,e,r){if(!L(e))throw new TypeError;return D(r)||(r=K(r)),x(t,e,r)}function m(t,e,r){if(!L(e))throw new TypeError;return D(r)||(r=K(r)),A(t,e,r)}function _(t,e,r){if(!L(e))throw new TypeError;return D(r)||(r=K(r)),S(t,e,r)}function O(t,e,r){if(!L(e))throw new TypeError;return D(r)||(r=K(r)),M(t,e,r)}function E(t,e){if(!L(t))throw new TypeError;return D(e)||(e=K(e)),I(t,e)}function b(t,e){if(!L(t))throw new TypeError;return D(e)||(e=K(e)),N(t,e)}function w(t,e,r){if(!L(e))throw new TypeError;D(r)||(r=K(r));var i=T(e,r,!1);if(D(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var n=d.get(e);return n.delete(r),n.size>0||d.delete(e),!0}function k(t,e){for(var r=t.length-1;r>=0;--r){var i=(0,t[r])(e);if(!D(i)&&!C(i)){if(!z(i))throw new TypeError;e=i}}return e}function V(t,e,r,i){for(var n=t.length-1;n>=0;--n){var o=(0,t[n])(e,r,i);if(!D(o)&&!C(o)){if(!L(o))throw new TypeError;i=o}}return i}function T(t,e,r){var i=d.get(t);if(D(i)){if(!r)return;i=new h,d.set(t,i)}var n=i.get(e);if(D(n)){if(!r)return;n=new h,i.set(e,n)}return n}function x(t,e,r){if(A(t,e,r))return!0;var i=Z(e);return!C(i)&&x(t,i,r)}function A(t,e,r){var i=T(e,r,!1);return!D(i)&&q(i.has(t))}function S(t,e,r){if(A(t,e,r))return M(t,e,r);var i=Z(e);return C(i)?void 0:S(t,i,r)}function M(t,e,r){var i=T(e,r,!1);if(!D(i))return i.get(t)}function j(t,e,r,i){T(r,i,!0).set(t,e)}function I(t,e){var r=N(t,e),i=Z(t);if(null===i)return r;var n=I(i,e);if(n.length<=0)return r;if(r.length<=0)return n;for(var o=new f,s=[],a=0,u=r;a<u.length;a++){var l=u[a];o.has(l)||(o.add(l),s.push(l))}for(var c=0,h=n;c<h.length;c++){l=h[c];o.has(l)||(o.add(l),s.push(l))}return s}function N(t,e){var r=[],i=T(t,e,!1);if(D(i))return r;for(var n=G(i.keys()),o=0;;){var s=Q(n);if(!s)return r.length=o,r;var a=Y(s);try{r[o]=a}catch(t){try{X(n)}finally{throw t}}o++}}function P(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function D(t){return void 0===t}function C(t){return null===t}function F(t){return"symbol"==typeof t}function L(t){return"object"==typeof t?null!==t:"function"==typeof t}function R(t,e){switch(P(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=B(t,i);if(void 0!==n){var o=n.call(t,r);if(L(o))throw new TypeError;return o}return U(t,"default"===r?"number":r)}function U(t,e){if("string"===e){var r=t.toString;if($(r))if(!L(n=r.call(t)))return n;if($(i=t.valueOf))if(!L(n=i.call(t)))return n}else{var i;if($(i=t.valueOf))if(!L(n=i.call(t)))return n;var n,o=t.toString;if($(o))if(!L(n=o.call(t)))return n}throw new TypeError}function q(t){return!!t}function J(t){return""+t}function K(t){var e=R(t,3);return F(e)?e:J(e)}function W(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function $(t){return"function"==typeof t}function z(t){return"function"==typeof t}function H(t){switch(P(t)){case 3:case 4:return!0;default:return!1}}function B(t,e){var r=t[e];if(null!=r){if(!$(r))throw new TypeError;return r}}function G(t){var e=B(t,n);if(!$(e))throw new TypeError;var r=e.call(t);if(!L(r))throw new TypeError;return r}function Y(t){return t.value}function Q(t){var e=t.next();return!e.done&&e}function X(t){var e=t.return;e&&e.call(t)}function Z(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var r=t.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return e;var n=i.constructor;return"function"!=typeof n||n===t?e:n}function tt(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[n]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,i)},e.prototype.values=function(){return new r(this._keys,this._values,o)},e.prototype.entries=function(){return new r(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[n]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function o(t,e){return e}function s(t,e){return[t,e]}}function et(){return function(){function t(){this._map=new h}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[n]=function(){return this.keys()},t}()}function rt(){var t=16,r=u.create(),i=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){var t;do{t="@@WeakMap@@"+l()}while(u.has(r,t));return r[t]=!0,t}function o(t,r){if(!e.call(t,i)){if(!r)return;Object.defineProperty(t,i,{value:u.create()})}return t[i]}function s(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t)}function l(){var e=a(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",i=0;i<t;++i){var n=e[i];4!==i&&6!==i&&8!==i||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}function it(t){return t.__=void 0,delete t.__,t}t("decorate",p),t("metadata",y),t("defineMetadata",v),t("hasMetadata",g),t("hasOwnMetadata",m),t("getMetadata",_),t("getOwnMetadata",O),t("getMetadataKeys",E),t("getOwnMetadataKeys",b),t("deleteMetadata",w)}(i)}()}(O||(O={}));export{n as FieldConfig,k as Form,_ as LinkOnEvent,w as OnEvents,V as editable,T as field};
//# sourceMappingURL=index.mjs.map
